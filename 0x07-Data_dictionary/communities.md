### Data Dictionary for `communities` Table

| **Data Element Name** | **Data Type** | **Description**                                                   | **Length/Size** | **Constraints/Rules**                                          | **Default Value** | **Source** | **Relationships**                                      | **Permissions/Access** | **Examples** |
|----------------------|--------------|-------------------------------------------------------------------|---------------|--------------------------------------------------------------|-----------------|-----------|---------------------------------------------------|--------------------|------------|
| `id`                | `ObjectId`    | Unique identifier for the community (primary key).                | 24 bytes      | Primary key, unique                                          | Auto-generated  | System    | Referenced in `users`, `discussions`, `roles`, `resources` | Read (Public), Write (Admin) | `"507f1f77bcf86cd799439200"` |
| `owner`             | `ObjectId`    | User ID of the community owner.                                   | 24 bytes      | Must exist in `users.id`                                     | -               | User input | References `users.id`                                  | Read (Public), Write (Owner, Admin) | `"507f1f77bcf86cd799439100"` |
| `name`              | `String`      | Name of the community.                                            | 255 chars     | Required, unique per platform                               | -               | User input | -                                                   | Read (Public), Write (Owner, Admin) | `"AI Enthusiasts"` |
| `description`       | `String`      | Brief description of the community.                               | 1000 chars    | Optional                                                    | -               | User input | -                                                   | Read (Public), Write (Owner, Admin) | `"A place to discuss AI research and trends"` |
| `type`              | `String`      | Type of the community (`Official`, `Community`).                  | 20 chars      | Required, must be one of: `Official`, `Community`           | `Community`     | User input | -                                                   | Read (Public), Write (Owner, Admin) | `"Official"` |
| `icon`              | `String`      | URL to the community's icon.                                      | 2000 chars    | Optional                                                    | `null`          | User input | -                                                   | Read (Public), Write (Owner, Admin) | `"https://cdn.example.com/icons/ai-group.png"` |
| `members`           | `JSONB`       | Array of community members with user IDs and assigned roles.      | Variable      | Optional                                                    | `[]`            | System     | References `users.id`, `roles.id`                   | Read (Community), Write (Owner, Admin) | `[{"userId": "507f1f77bcf86cd799439101", "roleIds": ["507f1f77bcf86cd799439300"]}]` |
| `roles`             | `ObjectId[]`  | Array of role IDs associated with the community.                  | Variable      | Optional, must exist in `roles.id`                          | `[]`            | System     | References `roles.id`                                | Read (Community), Write (Owner, Admin) | `["507f1f77bcf86cd799439300"]` |
| `discussions`       | `ObjectId[]`  | Array of discussion IDs linked to the community.                  | Variable      | Optional, must exist in `discussions.id`                    | `[]`            | System     | References `discussions.id`                          | Read (Public), Write (Community Members) | `["507f1f77bcf86cd799439400"]` |
| `inviteLink`        | `String`      | Invite link for new members to join the community.                | 500 chars     | Optional, unique per community                             | `null`          | System     | -                                                   | Read (Public), Write (Owner, Admin) | `"https://example.com/invite/abc123"` |
| `createdAt`         | `DateTime`    | Timestamp when the community was created.                         | 8 bytes       | Auto-generated                                             | Current timestamp | System | -                                                   | Read (Public) | `"2024-01-10T08:45:00Z"` |
| `updatedAt`         | `DateTime`    | Timestamp when the community was last updated.                    | 8 bytes       | Auto-updated                                               | Current timestamp | System | -                                                   | Read (Public) | `"2024-01-12T12:30:00Z"` |

---

### Embedded `members` Structure

| **Data Element Name** | **Data Type** | **Description** | **Constraints/Rules** | **Examples** |
|----------------------|--------------|----------------|---------------------|--------------|
| `userId`           | `ObjectId`    | ID of the user who is a member of the community. | Must exist in `users.id` | `"507f1f77bcf86cd799439101"` |
| `roleIds`          | `Array<ObjectId>` | Array of role IDs assigned to the user within the community. | Must exist in `roles.id` | `["507f1f77bcf86cd799439300"]` |
| `joinedAt`         | `DateTime`    | Timestamp when the user joined the community. | Auto-generated | `"2024-01-10T09:30:00Z"` |
