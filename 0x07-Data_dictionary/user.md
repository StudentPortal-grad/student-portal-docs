### Data Dictionary for `users` Table

| **Data Element Name** | **Data Type** | **Description**                                                                 | **Length/Size** | **Constraints/Rules**                                                                 | **Default Value** | **Source** | **Relationships** | **Permissions/Access** | **Examples** |
|------------------------|---------------|---------------------------------------------------------------------------------|-----------------|---------------------------------------------------------------------------------------|-------------------|------------|-------------------|-------------------------|--------------|
| `id`                   | `ObjectId`    | Unique identifier for the user (primary key).                                   | 24 bytes        | Primary key, unique                                                                   | Auto-generated    | System     | Referenced in `friends`, `messages`, `notifications`, `communities`, `events`, `RSVPs`, `roles` | Read/Write (Admin)      | `507f1f77bcf86cd799439011` |
| `name`                 | `String`      | Full name of the user.                                                          | 255 characters  | Required                                                                              | -                 | User input | -                 | Read/Write (User, Admin)| `John Doe`   |
| `email`                | `String`      | Email address of the user (used for login and communication).                   | 320 characters  | Unique, required                                                                      | -                 | User input | -                 | Read/Write (User, Admin)| `john.doe@example.com` |
| `password`             | `String`      | Encrypted password for user authentication.                                     | 60 characters   | Required                                                                              | -                 | User input | -                 | Write (User)            | `hashed_password` |
| `role`                 | `String`      | Global role of the user (e.g., 'Student', 'Faculty', 'Admin').                  | 50 characters   | Required, must be one of: 'Student', 'Faculty', 'Admin'                               | -                 | System     | -                 | Read/Write (Admin)      | `Student`    |
| `profile`              | `JSONB`       | Embedded object containing optional user profile details (bio, interests, etc.).| Variable        | Optional                                                                              | `{}`              | User input | -                 | Read/Write (User, Admin)| `{"bio": "CS Student", "interests": ["AI", "ML"]}` |
| `addresses`            | `JSONB`       | Array of embedded objects containing user addresses (street, city, country).    | Variable        | Optional                                                                              | `[]`              | User input | -                 | Read/Write (User, Admin)| `[{"street": "123 Main St", "city": "New York", "country": "USA"}]` |
| `friends`              | `JSONB`       | Array of friend objects with references to users and DMs (newest first).        | Variable        | Optional                                                                              | `[]`              | System     | References `users`, `messages` | Read/Write (User)       | `[{"userId": "507f1f77bcf86cd799439012", "messageId": "507f1f77bcf86cd799439013"}]` |
| `level`                | `Int`         | Academic level of the user (1-5, where 5 => graduated).                         | 1 byte          | Required, must be one of: 1, 2, 3, 4, 5                                               | -                 | User input | -                 | Read/Write (User, Admin)| `3`          |
| `gpa`                  | `Float`       | Grade Point Average (GPA) of the user.                                          | 4 bytes         | Optional                                                                              | -                 | User input/ External system      | -                 | Read/Write (User, Admin)| `3.8`        |
| `universityEmail`      | `String`      | University-provided email address for the user.                                 | 320 characters  | Optional                                                                              | -                 | User input/ External system      | -                 | Read/Write (User, Admin)| `john.doe@university.edu` |
| `mfa_settings`         | `JSONB`       | Embedded object containing Multi-Factor Authentication (MFA) settings.          | Variable        | Optional                                                                              | `{"enabled": false, "methods": []}` | User input | -                 | Read/Write (User)       | `{"enabled": true, "methods": ["SMS", "Email"]}` |
| `dashboards`           | `JSONB`       | Embedded object containing user dashboard data (academic_progress, event_stats).| Variable        | Optional                                                                              | `{}`              | System     | -                 | Read/Write (User)       | `{"academic_progress": 75, "event_stats": {"attended": 10}}` |
| `confirmEmail`         | `Boolean`     | Indicates whether the user's email has been confirmed.                          | 1 byte          | Required                                                                              | `false`           | System     | -                 | Read/Write (Admin)      | `true`       |
| `otp`                  | `JSONB`       | Embedded object containing OTP (One-Time Password) details (code, expiresAt).   | Variable        | Optional                                                                              | `{}`              | System     | -                 | Write (System)          | `{"code": "123456", "expiresAt": "2023-10-01T12:00:00Z"}` |
| `roles`                | `JSONB`       | Array of community-specific roles assigned to the user.                         | Variable        | Optional                                                                              | `[]`              | System     | References `roles`, `communities` | Read/Write (Admin)      | `[{"communityId": "507f1f77bcf86cd799439014", "role": "Moderator"}]` |
| `status`               | `String`      | Current status of the user (e.g., 'online', 'offline', 'idle', 'dnd').          | 10 characters   | Required, must be one of: 'online', 'offline', 'idle', 'dnd'                          | `offline`         | System     | -                 | Read/Write (User)       | `online`     |
| `createdAt`            | `DateTime`    | Timestamp when the user record was created.                                     | 8 bytes         | Auto-generated                                                                        | Current timestamp | System     | -                 | Read (Admin)            | `2023-07-01T12:00:00Z` |
| `updatedAt`            | `DateTime`    | Timestamp when the user record was last updated.                                | 8 bytes         | Auto-updated                                                                          | Current timestamp | System     | -                 | Read (Admin)            | `2023-07-02T15:30:00Z` |

